/* ===== База ===== */
*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; }
:root {
  --red:   #ff2b2b;
  --muted: #9a9a9a;
  --panel: #0b0b0b;
  --line:  #1d1d1d;
  --weird: #b14bff;
}
body {
  margin: 0; color: #e6e6e6; background: #000;
  font: 16px/1.6 "Courier New", ui-monospace, monospace;
  scroll-behavior: smooth;
  cursor: none;
}
a, button { cursor: none; }
:focus-visible { outline: 2px dashed var(--red); outline-offset: 3px; }

/* ===== Кастомный курсор ===== */
.cursor {
  position: fixed; top: 0; left: 0; width: 28px; height: 28px;
  border-radius: 50%; border: 1px solid rgba(255,255,255,.5);
  pointer-events: none; transform: translate(-50%,-50%);
  transition: width .3s, height .3s, background-color .3s, border-color .3s;
  z-index: 110;
}
.cursor-inner {
  position: absolute; top: 50%; left: 50%;
  width: 6px; height: 6px; border-radius: 50%; background: var(--red);
  transform: translate(-50%,-50%); transition: transform .2s;
}
.cursor.hover { width: 60px; height: 60px; background: rgba(255,43,43,.1); border-color: var(--red); }
.cursor.hover .cursor-inner { transform: translate(-50%,-50%) scale(1.5); }

/* ===== Прелоадер и scanlines ===== */
.preloader { position: fixed; inset: 0; display: grid; place-content: center; background: #000; z-index: 100; transition: opacity .5s, visibility .5s; }
.preloader.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
body::after {
  content: ""; position: fixed; inset: 0; pointer-events: none; z-index: 1;
  background: repeating-linear-gradient(0deg, rgba(255,255,255,.02), rgba(255,255,255,.02) 2px, transparent 3px, transparent 4px);
  mix-blend-mode: soft-light; opacity: .25;
}

/* ===== Hero ===== */
.hero { min-height: 100svh; display: grid; place-content: center; gap: 16px; text-align: center; position: relative; overflow: hidden; padding: 72px 16px 64px; }
.brand .tagline { display: block; color: #cfcfcf; opacity: .85; margin-top: 4px; }

.glitch {
  position: relative; text-transform: uppercase; letter-spacing: .12em;
  font-weight: 700; color: var(--red); font-size: clamp(40px, 10vw, 112px);
  filter: drop-shadow(0 0 10px #000);
}
.glitch::before, .glitch::after { content: attr(data-text); position: absolute; inset: 0; mix-blend-mode: screen; }
.glitch::before { color: #0ff; transform: translateX(2px); }
.glitch::after  { color: #ff0; transform: translateX(-2px); }

/* Лого своп */
.logo-swap { position: relative; display: inline-block; line-height: 1; }
.logo-swap .t { display: block; transition: opacity .25s ease; }
.logo-swap .t-alt { position: absolute; inset: 0; opacity: 0; pointer-events: none; }
.logo-swap.is-alt .t-normal { opacity: 0; }
.logo-swap.is-alt .t-alt   { opacity: 1; }
.mirror-4 { display: inline-block; transform: scaleX(-1); }

/* Навигация */
.nav { position: relative; }
.burger {
  display: none; border: 1px solid var(--line); background: #0c0c0c; color: #e6e6e6;
  padding: .4rem .6rem; border-radius: 6px;
}
.nav-links { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-top: 8px; }
.navlink { padding: 6px 10px; border: 1px solid var(--line); background: #0b0b0b; }
.navlink:hover { border-color: var(--red); color: var(--red); }
.enter-btn { padding: 12px 18px; border: 1px solid var(--red); color: var(--red); }
.enter-btn:hover { background: var(--red); color: #000; }

/* Контент */
.main-content { max-width: 980px; margin: 0 auto; padding: 32px 16px 96px; position: relative; z-index: 2; }
.section { padding: 36px 0; border-top: 1px solid var(--line); }
h2 { font-size: 28px; margin: 0 0 12px; }
.rules { list-style: none; padding-left: 12px; border-left: 3px solid var(--red); }
.rules li { margin: 8px 0; }
.rules .disclaimer { color: #8a8a8a; border-color: #444; }
.sigil { width: 180px; height: 180px; margin: 16px auto 0; border: 2px solid var(--red); position: relative; }
.sigil::before, .sigil::after { content: ""; position: absolute; inset: 10%; border: 1px solid var(--red); transform: rotate(45deg); }
.sigil::after { transform: rotate(-45deg); }
.footer { border-top: 1px solid var(--line); color: #7a7a7a; text-align: center; padding: 24px; }
.test-form label { display: block; margin: .4rem 0; }
.test-actions { display: flex; gap: 8px; margin-top: .5rem; flex-wrap: wrap; }
.test-result { margin-top: .6rem; min-height: 1.4rem; color: #cfcfcf; }

/* Анимации появления (исходно скрыто) */
.anim-title, .anim-text, .anim-fade, .anim-stagger { opacity: 0; }

/* Переходы страницы */
.veil {
  pointer-events: none; position: fixed; inset: 0;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0) 0%, rgba(0,0,0,.9) 60%, #000 100%);
  opacity: 0; transform: scale(1.2); transition: opacity .4s, transform .4s; z-index: 40;
}
.veil.on { opacity: 1; transform: scale(1); }

/* Возрастной диалог */
.age-gate { border: none; background: transparent; padding: 0; z-index: 60; max-width: 100vw; }
.age-gate.fade-out { animation: fadeOut .4s ease-out forwards; }
@keyframes fadeOut { to { opacity: 0; transform: scale(.95); } }
.age-gate::backdrop { background: rgba(0,0,0,.92); }
.gate-frame {
  width: min(720px, 92vw); background: var(--panel); border: 1px solid var(--line);
  box-shadow: 0 0 40px rgba(255,0,0,.08), inset 0 0 140px rgba(0,0,0,.8);
  padding: 24px; position: relative; overflow: hidden;
}
.scanlines { pointer-events: none; position: absolute; inset: 0; opacity: .15; mix-blend-mode: screen; background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,.06) 3px); }
.gate-title { text-align: center; color: var(--red); letter-spacing: .3em; margin: 0 0 6px; }
.gate-sub   { text-align: center; color: #bdbdbd; font-size: 12px; margin: 0 0 12px; }
.gate-card  { border-top: 1px solid var(--line); padding-top: 12px; }
.gate-text  { color: #dcdcdc; margin: .3rem 0 .6rem; }
.gate-check { display: flex; align-items: center; gap: 8px; margin: .5rem 0 .8rem; cursor: pointer; }
.gate-actions { display: flex; gap: 8px; flex-wrap: wrap; }
.btn { padding: 10px 14px; border: 1px solid var(--line); background: #0e0e0e; color: #e6e6e6; }
.btn-danger { border-color: var(--red); color: var(--red); }
.btn-danger[disabled] { opacity: .55; pointer-events: none; }
.btn-danger:not([disabled]):hover { background: var(--red); color: #000; }
.btn-weird { border-color: var(--weird); color: var(--weird); }
.btn-weird:hover { background: var(--weird); color: #000; }
.gate-note { color: #9a9a9a; font-size: 12px; margin-top: 8px; }
.gate-seal { position: absolute; bottom: 10px; right: 12px; color: var(--red); font-size: 12px; opacity: .7; }

/* Mobile */
@media (max-width: 840px) {
  .cursor { display: none; }
  body, a, button { cursor: auto; }
  .burger { display: inline-block; }
  .nav-links { display: none; flex-direction: column; gap: 6px; margin-top: 10px; }
  .nav-links.open { display: flex; }
}
@media (prefers-reduced-motion: reduce) {
  html { scroll-behavior: auto; }
  .glitch, .veil, .preloader, .age-gate.fade-out { animation: none !important; }
}
